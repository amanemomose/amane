<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Copa dos Personagens</title>
  <style>
    body {
      font-family: sans-serif;
      background: #eef2f7;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
    }
    #menu, #jogos, #resultadoFinal, #resumoRodada {
      max-width: 1000px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin-top: 20px;
    }
    .personagemCard {
      display: inline-block;
      width: 100px;
      margin: 5px;
      text-align: center;
      background: #f8f9fa;
      border-radius: 8px;
      padding: 5px;
      font-size: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: grab;
      transition: transform 0.3s ease;
    }
    .personagemCard:hover {
      transform: scale(1.2);
      z-index: 10;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .personagemCard img {
      width: 100%;
      height: auto;
      border-radius: 6px;
    }
    .brackets {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
    }
    .slot {
      width: 180px;
      height: 250px;
      background: #ddd;
      border-radius: 10px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .slot img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      object-fit: cover;
    }
    .slot .nome {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: rgba(0,0,0,0.6);
      color: white;
      font-size: 14px;
    }
    .jogo {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin: 30px 0;
    }
    .jogo .card {
      width: 250px;
      text-align: center;
    }
    .jogo .card img {
      width: 100%;
      border-radius: 10px;
    }
    .versus {
      font-size: 36px;
      font-weight: bold;
    }
    .status {
      font-size: 14px;
      margin-top: 10px;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2980b9;
    }
    #participantesAtuais {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    .miniCard {
      width: 80px;
      font-size: 10px;
      text-align: center;
    }
    .miniCard img {
      width: 100%;
      border-radius: 6px;
    }
  </style>
</head>
<body>
  <div id="menu">
    <h1>Copa dos Personagens</h1>
    <label for="tamanho">Tamanho do Torneio:</label>
    <select id="tamanho">
      <option value="4">4</option>
      <option value="8">8</option>
      <option value="16">16</option>
      <option value="24">24</option>
      <option value="32">32</option>
      <option value="64">64</option>
    </select>
    <br><br>
    <p>Arraste os personagens desejados para os espa√ßos do torneio:</p>
    <div id="personagensLista"></div>
    <h3>Chaves do Torneio</h3>
    <div id="brackets" class="brackets"></div>
    <button onclick="preencherAutomaticamente()">Preencher Automaticamente</button>
    <button onclick="iniciarTorneio()">Iniciar Torneio</button>
  </div>

  <div id="jogos" style="display:none;"></div>
  <div id="resumoRodada" style="display:none;"></div>
  <div id="resultadoFinal" style="display:none;"></div>

  <script>
    const personagens = [
      { nome: "Lu Fufu", imagem: "https://i.imgur.com/6BoV7d9.png", F: 5, S: 7, P: 6, I: 8, C: 4 },
      { nome: "Komi Shouko", imagem: "https://i.imgur.com/MTsAdDy.png", F: 4, S: 6, P: 5, I: 9, C: 7 },
      { nome: "Bocchi", imagem: "https://i.imgur.com/0cIWfYb.png", F: 3, S: 5, P: 4, I: 6, C: 9 },
      { nome: "C.C.", imagem: "https://i.imgur.com/MHDGXr5.png", F: 8, S: 6, P: 7, I: 8, C: 5 },
      { nome: "Aqua", imagem: "https://i.imgur.com/gJzUZ1u.png", F: 6, S: 4, P: 5, I: 5, C: 7 },
      { nome: "Denji", imagem: "https://i.imgur.com/NbSw4al.png", F: 9, S: 8, P: 7, I: 3, C: 4 },
      { nome: "Okabe", imagem: "https://i.imgur.com/NEX0nbf.png", F: 4, S: 5, P: 4, I: 10, C: 6 },
      { nome: "Pomni", imagem: "https://i.imgur.com/cZgrk2W.png", F: 3, S: 5, P: 6, I: 7, C: 6 },
      // Adicione mais personagens se desejar
    ];

    const personagensLista = document.getElementById("personagensLista");
    const tamanhoSelect = document.getElementById("tamanho");
    const brackets = document.getElementById("brackets");

    function renderPersonagens() {
      personagensLista.innerHTML = "";
      personagens.forEach((p, i) => {
        const div = document.createElement("div");
        div.className = "personagemCard";
        div.innerHTML = `<img src="${p.imagem}" alt="${p.nome}" title="F:${p.F} S:${p.S} P:${p.P} I:${p.I} C:${p.C}"><br>${p.nome}`;
        div.draggable = true;
        div.dataset.index = i;
        div.addEventListener("dragstart", e => {
          e.dataTransfer.setData("text/plain", i);
        });
        personagensLista.appendChild(div);
      });
    }

    function criarBrackets(tamanho) {
      brackets.innerHTML = "";
      for (let i = 0; i < tamanho; i++) {
        const div = document.createElement("div");
        div.className = "slot";
        div.ondragover = e => e.preventDefault();
        div.ondrop = e => {
          const idx = e.dataTransfer.getData("text/plain");
          const personagem = personagens[idx];
          if (!div.querySelector("img") && !Array.from(brackets.querySelectorAll("img")).some(img => img.alt === personagem.nome)) {
            const img = document.createElement("img");
            img.src = personagem.imagem;
            img.alt = personagem.nome;
            img.title = `F:${personagem.F} S:${personagem.S} P:${personagem.P} I:${personagem.I} C:${personagem.C}`;
            div.appendChild(img);
          }
        };
        brackets.appendChild(div);
      }
    }

    function preencherAutomaticamente() {
      const slots = Array.from(brackets.children).filter(div => div.children.length === 0);
      const usados = Array.from(brackets.querySelectorAll("img")).map(img => img.alt);
      const disponiveis = personagens.filter(p => !usados.includes(p.nome));
      const embaralhados = disponiveis.sort(() => 0.5 - Math.random());
      for (let i = 0; i < slots.length && i < embaralhados.length; i++) {
        const personagem = embaralhados[i];
        const img = document.createElement("img");
        img.src = personagem.imagem;
        img.alt = personagem.nome;
        img.title = `F:${personagem.F} S:${personagem.S} P:${personagem.P} I:${personagem.I} C:${personagem.C}`;
        slots[i].appendChild(img);
      }
    }

    tamanhoSelect.addEventListener("change", () => {
      criarBrackets(Number(tamanhoSelect.value));
    });

    renderPersonagens();
    criarBrackets(Number(tamanhoSelect.value));
  </script>
</body>
</html>
